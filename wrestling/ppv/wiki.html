<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.3.2/css/flag-icons.min.css">
    <title>Annual Promotion Schedule</title>
    <link rel="stylesheet" href="/css/wiki.css">
</head>
<body>

<h1>Annual Promotion Schedule</h1>
<p><em>World Title Series · World Championship Wrestling — 32-card rotating calendar</em></p>

<div class="sched-wrap">
    <table id="sched">
        <thead id="schedHead"></thead>
        <tbody id="schedBody"></tbody>
    </table>
</div>

<div class="sched-legend">
    <div class="sched-legend-item">
        <span class="sched-legend-swatch sw-M"></span>
        <strong>M</strong>&nbsp;Multiman contender
    </div>
    <div class="sched-legend-item">
        <span class="sched-legend-swatch sw-C"></span>
        <strong>C</strong>&nbsp;#1 Contender final
    </div>
    <div class="sched-legend-item">
        <span class="sched-legend-swatch sw-D"></span>
        <strong>D</strong>&nbsp;Title Defense
    </div>
    <div class="sched-legend-item">
        <span class="sched-legend-swatch sw-T"></span>
        Shows 8 &amp; 24 — Tournament
    </div>
    <div class="sched-legend-item" style="margin-left:8px">
    </div>
</div>

<script>
const TOTAL_SHOWS = 32;
const TOURNAMENT  = new Set([8, 24]);
const N           = 30;

const activeShows = [];
for (let s = 1; s <= TOTAL_SHOWS; s++)
    if (!TOURNAMENT.has(s)) activeShows.push(s);

const WC_LIST = [
    { label: 'Heavyweight',   spec: '224+ lb / 102+ kg' },
    { label: 'Bridgerweight', spec: '≤224 lb / 102 kg'  },
    { label: 'Middleweight',  spec: '202 lb / 92 kg'    },
    { label: 'Welterweight',  spec: '180 lb / 82 kg'    },
    { label: 'Lightweight',   spec: '+140 lb / +64 kg'  },
    { label: 'Featherweight', spec: '140 lb / 64 kg'    },
];

const belts = [];
const ORGS = ['WWF', 'WWO', 'IWB'];

for (const wc of WC_LIST)
    for (const org of ORGS)
        belts.push({
            displayName: org,
            org:         org.toLowerCase(),
            wcKey:       wc.label,
            wcHeader:    `${wc.label.toUpperCase()} — ${wc.spec}`,
        });

const PAIR_TYPE = ['M', 'C', 'C', 'M', 'C', 'C'];
const schedule = belts.map(() => ({}));
const OFFSET_SWAP = { 2: 14, 14: 2 };

belts.forEach((_, b) => {
    const offset = OFFSET_SWAP[b] !== undefined ? OFFSET_SWAP[b] : b;
    for (let p = 0; p < 6; p++) {
        const cIdx  = (offset + p * 5)     % N;
        const dIdx  = (offset + p * 5 + 2) % N;
        schedule[b][activeShows[cIdx]] = PAIR_TYPE[p];
        schedule[b][activeShows[dIdx]] = 'D';
    }
});

const thead = document.getElementById('schedHead');
const hRow  = document.createElement('tr');
const thB = document.createElement('th');
thB.className   = 'belt-label-head';
thB.textContent = 'Org';
hRow.appendChild(thB);

for (let s = 1; s <= TOTAL_SHOWS; s++) {
    const th = document.createElement('th');
    th.textContent = s;
    if (TOURNAMENT.has(s)) th.classList.add('th-tournament');
    hRow.appendChild(th);
}
thead.appendChild(hRow);

const tbody   = document.getElementById('schedBody');
let lastWcKey = null;

belts.forEach((belt, b) => {
    if (belt.wcKey !== lastWcKey) {
        lastWcKey = belt.wcKey;
        const hr  = document.createElement('tr');
        hr.className = 'wc-header';
        const htd = document.createElement('td');
        htd.colSpan   = TOTAL_SHOWS + 1;
        htd.textContent = belt.wcHeader;
        hr.appendChild(htd);
        tbody.appendChild(hr);
    }

    const tr  = document.createElement('tr');
    const tdN = document.createElement('td');
    tdN.className   = `belt-label org-${belt.org}`;
    tdN.textContent = belt.displayName;
    tr.appendChild(tdN);

    for (let s = 1; s <= TOTAL_SHOWS; s++) {
        const td = document.createElement('td');
        if (TOURNAMENT.has(s)) {
            td.className   = 'td-tournament';
            td.textContent = '—';
        } else {
            const type = schedule[b][s];
            if (type) { td.textContent = type; td.className = `cell-${type}`; }
        }
        tr.appendChild(td);
    }

    tbody.appendChild(tr);
});
</script>
</body>
</html>